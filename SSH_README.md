# 真实SSH连接功能使用说明

## 功能概述

现在SSH终端模拟器支持真实的SSH连接，不再只是模拟环境。您可以连接到真实的Linux服务器进行远程操作。

## 系统架构

- **前端**：Vue.js + xterm.js + WebSocket
- **后端**：Node.js + Express + WebSocket + SSH2
- **通信**：WebSocket实时双向通信

## 使用步骤

### 1. 启动后端服务器

```bash
# 进入server目录
cd server

# 安装依赖（首次使用）
npm install

# 启动后端服务
npm start
```

后端服务将启动：
- HTTP服务器：端口3001
- WebSocket服务器：端口3002

### 2. 启动前端应用

```bash
# 在项目根目录
npm run dev
```

前端应用将在 http://localhost:3002 运行

### 3. 连接SSH服务器

1. 在SSH终端页面填写连接信息：
   - 服务器地址（如：192.168.1.100）
   - 端口（默认22）
   - 用户名
   - 密码

2. 点击"连接"按钮

3. 系统将建立真实SSH连接，您可以直接操作远程服务器

## 功能特性

### 真实SSH连接
- ✅ 支持真实的SSH协议连接
- ✅ 密码验证和错误提示
- ✅ 实时双向通信
- ✅ 终端大小自适应
- ✅ 支持退格键等特殊按键

### 安全性
- ✅ SSH2协议加密通信
- ✅ WebSocket安全连接
- ✅ 连接超时控制
- ✅ 错误处理机制

### 用户体验
- ✅ 连接状态实时显示
- ✅ 详细的错误信息
- ✅ 自动重连机制
- ✅ 响应式界面设计

## 技术实现细节

### 前端实现
- 使用WebSocket与后端通信
- xterm.js提供终端界面
- 实时处理用户输入和服务器输出
- 自动调整终端大小

### 后端实现
- SSH2库处理SSH协议
- WebSocket服务器处理实时通信
- 连接池管理多个SSH会话
- 错误处理和日志记录

## 故障排除

### 常见问题

1. **连接失败**
   - 检查服务器地址和端口是否正确
   - 确认用户名和密码正确
   - 检查网络连接

2. **WebSocket连接错误**
   - 确认后端服务已启动
   - 检查防火墙设置
   - 查看浏览器控制台错误信息

3. **终端显示异常**
   - 刷新页面重新连接
   - 检查浏览器兼容性
   - 清除浏览器缓存

### 调试方法

1. 查看浏览器开发者工具控制台
2. 检查后端服务器日志
3. 使用网络面板查看WebSocket通信

## 注意事项

- 请确保连接的服务器支持SSH协议
- 密码验证失败会有明确提示
- 长时间不操作可能导致连接超时
- 建议使用现代浏览器以获得最佳体验

## 未来改进计划

- [ ] 支持SSH密钥认证
- [ ] 添加会话管理功能
- [ ] 支持文件传输（SFTP）
- [ ] 添加连接历史记录
- [ ] 支持多标签页操作

---

如有问题或建议，请查看项目文档或联系开发团队。